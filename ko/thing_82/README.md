# 잠들어 있는 동안 테스트하라 (그리고 주말에도)

안심하세요. 나는 해외 개발 센터, 주말 야근, 또는 야간 교대에 대해 말하는 것이 아닙니다. 오히려, 우리가 마음대로 쓸 수 있는 컴퓨팅 파워가 얼마나 많은지에 대해 당신의 주의를 끌고 싶습니다. 구체적으로, 프로그래머로서 우리의 삶을 조금 더 쉽게 만들기 위해 우리가 활용하지 않고 있는 것이 얼마나 많은지 말입니다. 업무 시간 동안 충분한 컴퓨팅 파워를 얻는 것이 지속적으로 어렵다는 것을 발견하고 있나요? 그렇다면, 정상 근무 시간 밖에 당신의 테스트 서버들은 무엇을 하고 있습니까? 대부분의 경우, 테스트 서버들은 밤사이와 주말에 놀고 있습니다. 이것을 당신의 장점으로 사용할 수 있습니다.

- *모든 테스트를 실행하지 않고 변경을 커밋한 적이 있나요?* 프로그래머들이 코드를 커밋하기 전에 테스트 스위트를 실행하지 않는 주된 이유 중 하나는 그것들이 걸릴 수 있는 시간의 길이 때문입니다. 마감일이 다가오고 절박해지면, 인간은 자연스럽게 모서리를 자르기 시작합니다. 이것을 해결하는 한 가지 방법은 큰 테스트 스위트를 두 개 이상의 프로필로 나누는 것입니다. 빠르게 실행되는 더 작고 필수적인 테스트 프로필은 각 커밋 전에 테스트가 실행되도록 보장하는 데 도움이 될 것입니다. 모든 테스트 프로필들(필수 프로필을 포함해서 — 확실히 하기 위해)은 밤사이에 실행되도록 자동화되어, 아침에 결과를 보고할 준비가 될 수 있습니다.

- *제품의 안정성을 테스트할 충분한 기회가 있었나요?* 더 오래 실행되는 테스트들은 메모리 누수와 다른 안정성 문제들을 식별하는 데 필수적입니다. 그것들은 시간과 자원을 묶어둘 것이기 때문에 낮에는 거의 실행되지 않습니다. 밤에 실행될 흡수 테스트를 자동화하고, 주말에는 조금 더 길게 실행할 수 있습니다. 금요일 오후 6시부터 다음 월요일 오전 6시까지 60시간의 잠재적 테스트 시간이 있습니다.

- *성능 테스트 환경에서 품질 시간을 얻고 있나요?* 나는 팀들이 성능 테스트 환경에서 시간을 얻기 위해 서로 다투는 것을 본 적이 있습니다. 대부분의 경우 어느 팀도 낮에 충분한 품질 시간을 얻지 못하는 반면, 환경은 시간 외에는 사실상 놀고 있습니다. 서버들과 네트워크는 밤이나 주말에는 그렇게 바쁘지 않습니다. 품질 좋은 성능 테스트를 실행하기에 이상적인 시간입니다.

- *수동으로 테스트하기에는 너무 많은 순열이 있나요?* 많은 경우 당신의 제품은 다양한 플랫폼에서 실행되도록 목표로 합니다. 예를 들어, 32비트와 64비트 모두에서, Linux, Solaris, 그리고 Windows에서, 또는 단순히 같은 운영 체제의 다른 버전들에서 말입니다. 상황을 더 악화시키기 위해, 많은 최신 애플리케이션들은 다수의 전송 메커니즘과 프로토콜들(HTTP, AMQP, SOAP, CORBA 등)에 자신들을 노출시킵니다. 이 모든 순열들을 수동으로 테스트하는 것은 매우 시간 소모적이고 자원 압박으로 인해 릴리스에 가까워서야 행해질 가능성이 높습니다. 슬프게도, 특정 나쁜 버그들을 잡기에는 사이클에서 너무 늦을 수 있습니다.

밤이나 주말에 실행되는 자동화된 테스트들은 이 모든 순열들이 더 자주 테스트되도록 보장할 것입니다. 약간의 생각과 일부 스크립팅 지식으로, 밤과 주말에 일부 테스트를 시작하기 위해 몇 개의 *cron* 작업을 스케줄할 수 있습니다. 도움이 될 수 있는 많은 테스트 도구들도 있습니다. 일부 조직들은 심지어 자원이 효율적으로 사용되도록 보장하기 위해 다른 부서와 팀들에 걸쳐 서버들을 풀링하는 서버 그리드를 가지고 있습니다. 이것이 당신의 조직에서 사용 가능하다면, 밤이나 주말에 실행될 테스트들을 제출할 수 있습니다.

[Rajith Attapattu](http://programmer.97things.oreilly.com/wiki/index.php/Rajith_Attapattu)가 작성함.