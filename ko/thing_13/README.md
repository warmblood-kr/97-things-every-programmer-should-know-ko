# 코드 레이아웃이 중요하다

오래 전, 저는 COBOL 시스템에서 일했었습니다. 그곳에서는 직원들이 코드를 변경할 이유가 없다면 들여쓰기(indentation) 변경이 금지되어 있었습니다. 누군가 한 번 어떤 행의 첫 부분의 특수한 열들에 한 줄이 밀려 들어가서(a line slip into) 무언가가 깨진 적이 있었기 때문입니다. 이것은 레이아웃이 오해의 소지가 있을 때도 적용되었고, 실제로 그런 경우도 있었으므로, 우리는 코드를 정말 조심스럽게 읽어야 했습니다. 그 코드를 신뢰할 수 없었기 때문입니다. 이 정책으로 프로그래머들은 큰 대가를 치뤘습니다.

연구에 따르면 우리는 프로그래밍 시간을 코드 탐색과 읽기에 훨씬 더 많이 소모한다고 합니다. 즉, 변경해야 할 *위치*를 찾는 데 더 많은 시간을 쓰고, 실제로 타이핑하는 데는 그다지 시간을 사용하지 않는다는 것입니다. 그래서 이것이 우리가 최적화하고자 것은 바로 이 부분입니다.

- *스캔하기 쉬움.* 사람들은 시각적 패턴 인식에 매우 능숙합니다(사바나에서 사자를 발견해야 했던 시절의 잔재이죠). 그래서 저는 도메인과 직접 관련이 없는 모든 것, 대부분의 상용 언어(commercial languages)가 가져오는 "우발적 복잡성(accidental complexity)"을 표준화하여 배경으로 희미하게 만드는 방법(fade into the background)으로 스스로를 도울 수 있습니다. 동일하게 동작하는 코드가 동일하게 보인다면, 저의 지각 시스템은 차이점을 쉽게 구별할 수 있도록 도와줄 것입니다. 그래서 저는 또한 클래스의 부분을 어떻게 레이아웃할지에 대한 규칙을 준수합니다: 상수, 필드, 퍼블릭 메서드, 프라이빗 메서드.

- *표현력 있는 레이아웃.* 우리는 모두 코드를 가능한 한 명확하게 표현하기 위해 올바른 이름을 찾는 데 시간을 들여야 한다고 배웠습니다. 단순히 스텝을 나열하는 것이 아니라요 — 맞죠? 코드의 레이아웃도 이러한 표현력의 일부입니다. 첫 번째 단계는 팀이 기본을 위한 자동 포맷터에 합의하는 것이고, 그 후 코딩할 때 수동으로 조정할 수 있습니다. 의견 차이가 없으면 팀은 빠르게 공통의 "손으로 다듬은" 스타일에 수렴합니다. 포맷터는 제 의도를 이해할 수 없고(제가 한 번 포맷터를 만들어봐서 알죠), 저에게 더 중요한 것은 줄바꿈과 그룹핑 방식이 코드의 의도를 반영하는 것이지, 언어의 문법만 반영하는 것이 아닙니다. (Kevin McGuire 덕분에 저는 자동 코드 포맷터에 대한 의무에서 벗어났습니다.)

- *컴팩트한 형식.* 화면에 더 많은 것을 표시할 수 있을수록, 스크롤하거나 파일을 전환하지 않고도 더 많은 것을 볼 수 있으며, 이는 제 머리 속에 저장해야 할 상태를 줄여 줍니다. 긴 절차 주석과 많은 공백은 8자 이름과 라인 프린터에 적합했지만, 지금 저는 구문 색상화 및 크로스 링크가 가능한 IDE에서 생활하고 있습니다. 픽셀이 제 제한 요소이므로 모든 픽셀이 코드 이해에 기여하게 하고 싶습니다. 레이아웃이 코드 이해에 도움이 되어야 하지만 그 이상은 원하지 않습니다.

비 프로그래머인 친구는 한 번 코드가 시처럼 보인다고 말한 적이 있습니다. 저는 정말 좋은 코드에서 그 느낌을 받습니다. 즉, 텍스트 속의 모든 것이 목적이 있고 아이디어를 이해하는 데 도움이 되도록 그곳에 존재한다는 것입니다. 불행히도 코드를 작성하는 것은 시를 쓰는 것과 같은 낭만적인 이미지는 없습니다.

[Steve Freeman](http://programmer.97things.oreilly.com/wiki/index.php/Steve_Freeman) 씀.
