# 장황한 로깅은 당신의 잠을 방해할 것이다

이미 한동안 개발 중이거나 프로덕션 중인 시스템을 마주칠 때, 실제 문제의 첫 번째 징후는 항상 더러운 로그입니다. 내가 무엇을 말하는지 알 것입니다. 웹 페이지의 정상적인 흐름에서 단일 링크를 클릭하는 것이 시스템이 제공하는 유일한 로그에서 메시지의 홍수로 이어질 때. 너무 많은 로깅은 전혀 없는 것만큼 쓸모없을 수 있습니다.

당신의 시스템들이 내 것과 같다면, 당신의 일이 끝날 때 다른 누군가의 일이 막 시작됩니다. 시스템이 개발된 후, 그것은 바라건대 고객들을 서비스하며 길고 번영하는 삶을 살 것입니다. 운이 좋다면 말입니다. 시스템이 프로덕션에 있을 때 무언가 잘못되면 어떻게 알 것이고, 그것을 어떻게 다룰 것입니까?

아마도 누군가가 당신의 시스템을 모니터링하거나, 아니면 당신이 직접 모니터링할 것입니다. 어느 쪽이든, 로그들은 아마도 모니터링의 일부가 될 것입니다. 무언가가 나타나서 당신이 그것을 처리하기 위해 깨워져야 한다면, 그것에 대한 좋은 이유가 있는지 확인하고 싶을 것입니다. 내 시스템이 죽고 있다면, 알고 싶습니다. 하지만 단지 딸꾹질이라면, 차라리 미용 수면을 즐기고 싶습니다.

많은 시스템에서, 무언가 잘못되었다는 첫 번째 징후는 어떤 로그에 로그 메시지가 기록되는 것입니다. 대부분, 이것은 오류 로그가 될 것입니다. 그러므로 자신에게 호의를 베푸세요: 첫날부터 오류 로그에 무언가가 기록되면, 한밤중에 누군가가 그것에 대해 전화해서 당신을 깨우는 것을 기꺼이 받아들일지 확인하세요. 시스템 테스트 동안 시스템에 부하를 시뮬레이션할 수 있다면, 노이즈 없는 오류 로그를 보는 것도 당신의 시스템이 합리적으로 견고하다는 좋은 첫 번째 징후입니다. 또는 그렇지 않다면 조기 경고입니다.

분산 시스템들은 또 다른 수준의 복잡성을 추가합니다. 외부 의존성이 실패할 때 어떻게 처리할지 결정해야 합니다. 시스템이 매우 분산되어 있다면, 이것은 일반적인 발생일 수 있습니다. 로깅 정책이 이것을 고려하도록 하세요.

일반적으로, 모든 것이 괜찮다는 최고의 징후는 더 낮은 우선순위의 메시지들이 행복하게 돌아가고 있다는 것입니다. 모든 중요한 애플리케이션 이벤트에 대해 대략 하나의 INFO 수준 로그 메시지를 원합니다.

어수선한 로그는 시스템이 프로덕션에 도달하면 제어하기 어려울 것이라는 징후입니다. 오류 로그에 아무것도 나타나지 않을 것으로 예상하지 않는다면, 무언가가 나타날 때 무엇을 해야 할지 아는 것이 훨씬 쉬울 것입니다.

[Johannes Brodwall](http://programmer.97things.oreilly.com/wiki/index.php/Johannes_Brodwall)이 작성함.