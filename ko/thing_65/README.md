# 원시 타입보다 도메인별 타입을 선호하라

1999년 9월 23일, 3억 2천 7백 6십만 달러의 화성 기후 탐사선이 지구의 소프트웨어 에러로 인해 화성 궤도 진입 중에 분실되었습니다. 이 에러는 나중에 *미터법 혼동*이라고 불렸습니다. 지상국 소프트웨어는 파운드 단위로 작업하고 있었는데 우주선은 뉴턴을 예상했고, 이로 인해 지상국이 우주선 추진기의 힘을 4.45배 과소평가하게 되었습니다.

이것은 더 강하고 더 도메인별 타이핑이 적용되었다면 방지될 수 있었을 소프트웨어 실패의 많은 예 중 하나입니다. 이것은 또한 Ada 언어의 많은 기능들 뒤에 있는 근거의 예이기도 한데, Ada의 주요 설계 목표 중 하나는 임베디드 안전 중요 소프트웨어를 구현하는 것이었습니다. Ada는 원시 타입과 사용자 정의 타입 모두에 대해 정적 검사가 있는 강한 타이핑을 갖고 있습니다:

```
type Velocity_In_Knots is new Float range 0.0 .. 500.00;

type Distance_In_Nautical_Miles is new Float range 0.0 .. 3000.00;

Velocity: Velocity_In_Knots;

Distance: Distance_In_Nautical_Miles;

Some_Number: Float;

Some_Number:= Distance + Velocity; -- 컴파일러에 의해 타입 에러로 잡힐 것입니다.
```

덜 까다로운 도메인의 개발자들도 더 도메인별 타이핑을 적용하는 것으로부터 이익을 얻을 수 있는데, 그렇지 않으면 언어와 라이브러리가 제공하는 원시 데이터 타입인 문자열과 부동소수점을 계속 사용할 것입니다. Java, C++, Python, 그리고 다른 현대 언어들에서 추상 데이터 타입은 클래스로 알려져 있습니다. `Velocity_In_Knots`와 `Distance_In_Nautical_Miles` 같은 클래스를 사용하는 것은 코드 품질에 대해 많은 가치를 더합니다:

- 코드가 Float나 String이 아닌 도메인의 개념을 표현하므로 더 읽기 쉬워집니다.
- 코드가 쉽게 테스트할 수 있는 행동을 캡슐화하므로 더 테스트하기 쉬워집니다.
- 코드가 애플리케이션과 시스템 간 재사용을 촉진합니다.

이 접근법은 정적 타입 언어와 동적 타입 언어 사용자 모두에게 똑같이 유효합니다. 유일한 차이점은 정적 타입 언어를 사용하는 개발자들은 컴파일러로부터 도움을 받는 반면 동적 타입 언어를 받아들이는 개발자들은 단위 테스트에 더 의존할 가능성이 높다는 것입니다. 검사 스타일은 다를 수 있지만, 동기와 표현 스타일은 그렇지 않습니다.

교훈은 품질 소프트웨어 개발 목적으로 도메인별 타입을 탐구하기 시작하는 것입니다.

[Einar Landre](http://programmer.97things.oreilly.com/wiki/index.php/Einar_Landre)가 작성함.