# 그 코드를 건드리지 마라!

이것은 우리 모두에게 언젠가는 일어난 일입니다. 당신의 코드가 시스템 테스트를 위해 스테이징 서버에 배포되었는데, 테스트 매니저가 문제가 발생했다고 알려왔습니다. 당신의 첫 번째 반응은 "빨리, 내가 고쳐줄게 — 뭐가 잘못됐는지 알아"입니다.

하지만 더 큰 관점에서 보면, 잘못된 것은 개발자인 당신이 스테이징 서버에 접근할 수 있어야 한다고 생각하는 것입니다.

대부분의 웹 기반 개발 환경에서 아키텍처는 다음과 같이 나눌 수 있습니다:

- 개발자 머신에서의 로컬 개발 및 단위 테스트
- 수동 또는 자동 통합 테스트가 수행되는 개발 서버
- QA 팀과 사용자가 수락 테스트를 수행하는 스테이징 서버
- 프로덕션 서버

물론 소스 코드 제어나 티켓팅 같은 다른 서버와 서비스들이 여기저기 섞여 있지만, 요점은 알 수 있을 것입니다. 이 모델을 사용할 때, 개발자 — 심지어 시니어 개발자라 할지라도 — 개발 서버 너머로는 접근할 수 없어야 합니다. 대부분의 개발은 개발자의 로컬 머신에서 자신이 선호하는 IDE, 가상 머신, 그리고 행운을 위해 뿌려진 적절한 양의 블랙 매직을 조합해서 수행됩니다.

자동으로든 수동으로든 SCC에 체크인되면, 모든 것이 함께 작동하는지 확인하기 위해 테스트하고 필요한 경우 조정할 수 있는 개발 서버로 롤오버되어야 합니다. 하지만 이 시점부터 개발자는 프로세스의 관찰자가 됩니다.

스테이징 매니저가 QA 팀을 위해 코드를 패키징하고 스테이징 서버로 롤링해야 합니다. 개발자가 개발 서버 너머에 접근할 필요가 없는 것처럼, QA 팀과 사용자들도 개발 서버의 어떤 것도 건드릴 필요가 없습니다. 수락 테스트를 할 준비가 되었다면, 릴리스를 만들어서 롤링하세요. 사용자에게 개발 서버에서 "뭔가 빨리 좀 봐달라"고 요청하지 마세요. 기억하세요, 혼자서 프로젝트를 코딩하는 것이 아니라면, 다른 사람들도 거기에 코드를 가지고 있고 그들은 사용자가 그것을 보도록 준비되지 않았을 수도 있습니다. 릴리스 매니저만이 양쪽 모두에 접근할 수 있어야 하는 유일한 사람입니다.

어떤 상황에서도 — 절대로, 전혀 — 개발자가 프로덕션 서버에 접근해서는 안 됩니다. 문제가 있다면, 당신의 지원 스태프가 그것을 고치거나 당신에게 고쳐달라고 요청해야 합니다. SCC에 체크인된 후에 그들이 거기서 패치를 롤링할 것입니다. 내가 관련된 가장 큰 프로그래밍 재앙들 중 일부는 누군가가 \**기침*\*나\**기침*\* 이 마지막 규칙을 위반했기 때문에 일어났습니다. 망가졌다면, 프로덕션은 그것을 고칠 곳이 아닙니다.

[Cal Evans](http://programmer.97things.oreilly.com/wiki/index.php/Cal_Evans)가 작성함.