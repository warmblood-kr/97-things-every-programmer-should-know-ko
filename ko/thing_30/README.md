# 자신을 반복하지 마라

모든 프로그래밍 원칙 중에서, Don't Repeat Yourself (DRY)는 아마도 가장 근본적인 것 중 하나일 것입니다. 이 원칙은 *The Pragmatic Programmer*에서 Andy Hunt와 Dave Thomas에 의해 공식화되었으며, 잘 알려진 다른 많은 소프트웨어 개발 모범 사례와 디자인 패턴의 기반이 됩니다. 중복을 인식하는 법을 배우고, 적절한 관행과 올바른 추상화를 통해 그것을 제거하는 방법을 이해하는 개발자는 애플리케이션을 불필요한 반복으로 지속적으로 감염시키는 개발자보다 훨씬 더 깨끗한 코드를 생산할 수 있습니다.

중복은 낭비다
---

애플리케이션에 들어가는 모든 코드 라인은 유지보수되어야 하며, 미래 버그의 잠재적 소스입니다. 중복은 불필요하게 코드베이스를 부풀려서, 더 많은 버그 기회를 만들고 시스템에 우발적 복잡성을 추가합니다. 중복이 시스템에 추가하는 부풀림은 또한 시스템으로 작업하는 개발자들이 전체 시스템을 완전히 이해하거나, 한 위치에서 만든 변경사항이 그들이 작업하고 있는 로직을 중복하는 다른 장소에서도 만들어져야 하는지 확신하기 어렵게 만듭니다. DRY는 "모든 지식 조각이 시스템 내에서 단일하고, 명확하고, 권위있는 표현을 가져야 한다"고 요구합니다.

프로세스에서의 반복은 자동화를 요구한다
---

소프트웨어 개발의 많은 프로세스는 반복적이고 쉽게 자동화됩니다. DRY 원칙은 애플리케이션의 소스 코드뿐만 아니라 이런 맥락에서도 적용됩니다. 수동 테스팅은 느리고, 오류가 발생하기 쉽고, 반복하기 어려우므로, 가능하다면 자동화된 테스트 스위트를 사용해야 합니다. 소프트웨어를 통합하는 것은 수동으로 한다면 시간이 많이 걸리고 오류가 발생하기 쉬우므로, 빌드 프로세스는 가능한 한 자주, 이상적으로는 모든 체크인마다 실행되어야 합니다. 자동화될 수 있는 고통스러운 수동 프로세스가 존재하는 곳마다, 그것들은 자동화되고 표준화되어야 합니다. 목표는 작업을 수행하는 한 가지 방법만 있도록 보장하고, 그것이 가능한 한 고통스럽지 않도록 하는 것입니다.

로직에서의 반복은 추상화를 요구한다
---

로직에서의 반복은 많은 형태를 취할 수 있습니다. 복사-붙여넣기 *if-then* 또는 *switch-case* 로직은 탐지하고 수정하기 가장 쉬운 것 중 하나입니다. 많은 디자인 패턴들은 애플리케이션 내에서 로직의 중복을 줄이거나 제거하는 명시적인 목표를 가지고 있습니다. 객체가 사용되기 전에 일반적으로 여러 가지 일이 일어나야 한다면, 이는 Abstract Factory나 Factory Method로 달성될 수 있습니다. 객체가 그 행동에서 많은 가능한 변화를 가진다면, 이런 행동들은 큰 *if-then* 구조보다는 Strategy 패턴을 사용해서 주입될 수 있습니다. 사실, 디자인 패턴 자체의 공식화는 공통 문제를 해결하고 그런 해결책을 논의하기 위해 필요한 노력의 중복을 줄이려는 시도입니다. 또한, DRY는 데이터베이스 스키마 같은 구조에 적용되어 정규화를 가져올 수 있습니다.

원칙의 문제
---

다른 소프트웨어 원칙들도 DRY와 관련이 있습니다. 코드의 기능적 행동에만 적용되는 Once and Only Once 원칙은 DRY의 부분집합으로 생각할 수 있습니다. "소프트웨어 엔티티는 확장에는 열려있고 수정에는 닫혀있어야 한다"고 명시하는 Open/Closed 원칙은 DRY가 따라질 때만 실제로 작동합니다. 마찬가지로, 잘 알려진 Single Responsibility 원칙은 클래스가 "변경할 이유를 하나만" 가져야 한다고 요구하며, DRY에 의존합니다.

구조, 로직, 프로세스, 그리고 기능에 관해 따라질 때, DRY 원칙은 소프트웨어 개발자들에게 근본적인 안내를 제공하고 더 간단하고, 더 유지보수하기 쉽고, 더 높은 품질의 애플리케이션 생성을 도와줍니다. 성능이나 다른 요구사항을 만족하기 위해 반복이 필요할 수 있는 시나리오들이 있지만(예: 데이터베이스에서 데이터 비정규화), 상상의 문제가 아닌 실제 문제를 직접 다루는 곳에서만 사용되어야 합니다.

[Steve Smith](http://programmer.97things.oreilly.com/wiki/index.php/Steve_Smith)가 작성함.